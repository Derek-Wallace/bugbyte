(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d97e16bc"],{4570:function(e,t,c){},"68bc":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const s={key:0,class:"container-fluid"},b={class:"row my-5"},i={class:"col-lg-10 m-auto bg-opaque py-5"},o={class:"row"},l={class:"col-lg-8 m-auto d-flex justify-content-between align-items-center"},d={class:"my-4"},n={class:"row"},g={class:"col-8 m-auto d-flex flex-inline"},r={class:"pt-2 ml-2"},u={class:"row"},j={class:"col-lg-7 m-auto d-flex justify-content-between"},O={key:0,class:"p-2 bg-success rounded-pill text-center"},p=Object(a["g"])("b",null,"Open",-1),w={key:1,class:"p-2 bg-danger rounded-pill text-center"},m=Object(a["g"])("b",null,"Closed",-1),y={class:"row"},v={class:"col-lg-7 m-auto"},f={class:"row"},h={class:"col-lg-8 m-auto bg-light pt-2 border d-flex justify-content-between align-items-center"},k={key:0},N=Object(a["g"])("div",{class:"row mt-5"},[Object(a["g"])("div",{class:"col-lg-7 m-auto"},[Object(a["g"])("h2",null,"Notes:")])],-1),x={class:"row"},B={class:"col-lg-8 m-auto"},C={class:"row border p-3 bg-white"},E={key:0,class:"row mb-5"},A={class:"col-lg-8 m-auto d-flex justify-content-center"},S=Object(a["g"])("label",{for:"note",class:"sr-only"},"Note",-1),q=Object(a["g"])("button",{type:"submit",class:"btn btn-success"}," Submit ",-1);function D(e,t,c,D,I,J){const U=Object(a["w"])("Notes");return D.bug.id?(Object(a["p"])(),Object(a["d"])("div",s,[Object(a["g"])("div",b,[Object(a["g"])("div",i,[Object(a["g"])("div",o,[Object(a["g"])("div",l,[Object(a["g"])("h1",d,Object(a["y"])(D.bug.title),1),D.bug.creatorId===D.account.id?(Object(a["p"])(),Object(a["d"])("button",{key:0,class:"btn btn-danger h-50",onClick:t[1]||(t[1]=e=>D.closeBug(D.bug.id))}," Close bug ")):Object(a["e"])("",!0)])]),Object(a["g"])("div",n,[Object(a["g"])("div",g,[Object(a["g"])("img",{src:D.bug.creator.picture,alt:"Creator Picture",height:"40",class:"rounded-circle"},null,8,["src"]),Object(a["g"])("p",r,Object(a["y"])(D.bug.creator.name),1)])]),Object(a["g"])("div",u,[Object(a["g"])("div",j,[!1===D.bug.closed?(Object(a["p"])(),Object(a["d"])("p",O,[p])):Object(a["e"])("",!0),!0===D.bug.closed?(Object(a["p"])(),Object(a["d"])("p",w,[m])):Object(a["e"])("",!0),Object(a["g"])("p",null,Object(a["y"])(new Date(D.bug.updatedAt).toLocaleString()),1)])]),Object(a["g"])("div",y,[Object(a["g"])("div",v,[Object(a["g"])("div",f,[Object(a["g"])("div",h,[!1===D.editing?(Object(a["p"])(),Object(a["d"])("p",k,Object(a["y"])(D.bug.description),1)):Object(a["e"])("",!0),!0===D.editing?Object(a["C"])((Object(a["p"])(),Object(a["d"])("textarea",{key:1,"onUpdate:modelValue":t[2]||(t[2]=e=>D.state.bugEdit.description=e),cols:"65",rows:"5",class:"mb-2"},null,512)),[[a["A"],D.state.bugEdit.description]]):Object(a["e"])("",!0),!0===D.editing?(Object(a["p"])(),Object(a["d"])("button",{key:2,class:"btn btn-success h-5 h-50 mx-2",onClick:t[3]||(t[3]=e=>D.editBug(D.bug.id))}," Accept Edit ")):Object(a["e"])("",!0),D.bug.creatorId===D.account.id&&!1===D.bug.closed?(Object(a["p"])(),Object(a["d"])("div",{key:3,role:"button",title:"Edit bug description",onClick:t[4]||(t[4]=(...e)=>D.toggleEdit&&D.toggleEdit(...e)),class:"mdi mdi-pencil-plus"})):Object(a["e"])("",!0)])])])]),N,Object(a["g"])("div",x,[Object(a["g"])("div",B,[Object(a["g"])("div",C,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(D.notes,e=>(Object(a["p"])(),Object(a["d"])(U,{key:e.id,note:e},null,8,["note"]))),128))])])]),!1===D.bug.closed?(Object(a["p"])(),Object(a["d"])("div",E,[Object(a["g"])("div",A,[Object(a["g"])("form",{onSubmit:t[6]||(t[6]=Object(a["D"])((...e)=>D.createNote&&D.createNote(...e),["prevent"])),class:"d-flex w-75 mt-5"},[S,Object(a["C"])(Object(a["g"])("input",{required:"",type:"text",placeholder:"Note","onUpdate:modelValue":t[5]||(t[5]=e=>D.state.newNote.body=e),class:" mr-5 w-100 border-right-0 border-left-0 border-top-0 bg-transparent"},null,512),[[a["A"],D.state.newNote.body]]),q],32)])])):Object(a["e"])("",!0)])])])):Object(a["e"])("",!0)}var I=c("a1e9"),J=c("5c40"),U=c("83fc"),V=c("5a80"),L=c("af90"),P=c("6c02"),T=c("5d40"),Y={setup(){const e=Object(P["c"])(),t=Object(I["i"])({newNote:{bug:e.params.id},bugEdit:{description:U["a"].activeBug.description}});return Object(J["N"])(async()=>{try{e.params.id&&(await L["a"].getBug(e.params.id),await V["a"].getNotes(e.params.id))}catch(t){T["a"].toast(t,"error")}}),Object(J["v"])(()=>{U["a"].editing=!1,U["a"].activeBug={}}),{state:t,bug:Object(J["d"])(()=>U["a"].activeBug),notes:Object(J["d"])(()=>U["a"].notes),account:Object(J["d"])(()=>U["a"].account),editing:Object(J["d"])(()=>U["a"].editing),async createNote(){try{await V["a"].createNote(t.newNote),t.newNote={bug:U["a"].activeBug.id}}catch(e){T["a"].toast(e,"error")}},async closeBug(e){try{await T["a"].confirmAction("Close this bug?","This bug will be closed and you will not be able to edit it anymore, are you sure?","warning","Yes, Close it")&&await L["a"].closeBug(e,U["a"].activeBug)}catch(t){T["a"].toast(t,"error")}},toggleEdit(){!0===U["a"].editing?U["a"].editing=!1:U["a"].editing=!0},async editBug(){try{await L["a"].editBug(e.params.id,t.bugEdit),U["a"].editing=!1}catch(c){T["a"].toast(c,"error")}}}}};c("6f99");Y.render=D;t["default"]=Y},"6f99":function(e,t,c){"use strict";c("4570")}}]);